@{
    ViewData["Title"] = "Home Page";
}
@* Quadrants view: displays only uncompleted tasks in a 2x2 matrix (Urgent/Not Urgent vs Important/Not Important). *@
@* Each task row has Complete, Edit, and Delete actions. *@

<h1>Stephen Covey's Time Management Matrix</h1>

<div class="row" style="min-height: 30px;">
    <div class="col-md-2">
    </div>
    <div class="col-md-5 border">
        <h2 class="text-center">Urgent</h2>
    </div>
    <div class="col-md-5 border align-content-center">
        <h2 class="text-center">Not Urgent</h2>
    </div>
</div>

<div class="row" style="min-height: 200px;">
    <div class="col-md-2 d-flex align-items-center justify-content-center border">
        <h2 style="writing-mode: vertical-rl; transform: rotate(180deg); white-space: nowrap;">Important</h2>
    </div>
    @* Quadrant I: Important / Urgent *@
    <div class="col-md-5 border">
        <table>
            @foreach (var quad1 in ViewBag.Quad1)
            {
                <tr>
                    <td>@quad1.TaskName</td>
                    <td>@(quad1.DueDate != null ? quad1.DueDate : "")</td>
                    <td>@quad1.Category?.CategoryName</td>
                    <td>
                        <form asp-controller="Home" asp-action="MarkComplete" asp-route-id="@quad1.TaskItemId" method="post" style="display:inline">
                            <button type="submit" class="btn btn-success">Complete</button>
                        </form>
                    </td>
                    <td><a class="btn btn-info" asp-controller="Home" asp-action="Edit_Task" asp-route-id="@quad1.TaskItemId">Edit</a></td>
                    <td><a class="btn btn-danger" asp-controller="Home" asp-action="Delete_Task" asp-route-id="@quad1.TaskItemId">Delete</a></td>
                </tr>
            }
        </table>
        
    </div>
    <div class="col-md-5 border">
        <table>
            @foreach (var quad2 in ViewBag.Quad2)
            {
                <tr>
                    <td>@quad2.TaskName</td>
                    <td>@(quad2.DueDate != null ? quad2.DueDate : "")</td>
                    <td>@quad2.Category?.CategoryName</td>
                    <td>
                        <form asp-controller="Home" asp-action="MarkComplete" asp-route-id="@quad2.TaskItemId" method="post" style="display:inline">
                            <button type="submit" class="btn btn-success">Complete</button>
                        </form>
                    </td>
                    <td><a class="btn btn-info" asp-controller="Home" asp-action="Edit_Task" asp-route-id="@quad2.TaskItemId">Edit</a></td>
                    <td><a class="btn btn-danger" asp-controller="Home" asp-action="Delete_Task" asp-route-id="@quad2.TaskItemId">Delete</a></td>
                </tr>
            }
        </table>
    </div>
</div>

<div class="row" style="min-height: 200px;">
    <div class="col-md-2 d-flex align-items-center justify-content-center border">
        <h2 style="writing-mode: vertical-rl; transform: rotate(180deg); white-space: nowrap;">Not Important</h2>
    </div>
    <div class="col-md-5 border">
        <table>
            @foreach (var quad3 in ViewBag.Quad3)
            {
                <tr>
                    <td>@quad3.TaskName</td>
                    <td>@(quad3.DueDate != null ? quad3.DueDate : "")</td>
                    <td>@quad3.Category?.CategoryName</td>
                    <td>
                        <form asp-controller="Home" asp-action="MarkComplete" asp-route-id="@quad3.TaskItemId" method="post" style="display:inline">
                            <button type="submit" class="btn btn-success">Complete</button>
                        </form>
                    </td>
                    <td><a class="btn btn-info" asp-controller="Home" asp-action="Edit_Task" asp-route-id="@quad3.TaskItemId">Edit</a></td>
                    <td><a class="btn btn-danger" asp-controller="Home" asp-action="Delete_Task" asp-route-id="@quad3.TaskItemId">Delete</a></td>
                </tr>
            }
        </table>
    </div>
    <div class="col-md-5 border">
        <table>
            @foreach (var quad4 in ViewBag.Quad4)
            {
                <tr>
                    <td>@quad4.TaskName</td>
                    <td>@(quad4.DueDate != null ? quad4.DueDate : "")</td>
                    <td>@quad4.Category?.CategoryName</td>
                    <td>
                        <form asp-controller="Home" asp-action="MarkComplete" asp-route-id="@quad4.TaskItemId" method="post" style="display:inline">
                            <button type="submit" class="btn btn-success">Complete</button>
                        </form>
                    </td>
                    <td><a class="btn btn-info" asp-controller="Home" asp-action="Edit_Task" asp-route-id="@quad4.TaskItemId">Edit</a></td>
                    <td><a class="btn btn-danger" asp-controller="Home" asp-action="Delete_Task" asp-route-id="@quad4.TaskItemId">Delete</a></td>
                </tr>
            }
        </table>
    </div>
</div>